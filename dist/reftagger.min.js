/*!
 * reftagger v0.0.1
 * A reftagger for Arabic Holy Books.
 * https://github.com/alkotob/reftagger
 *
 * Copyright © 2017, Alkotob <alkotob.org>
 * Released under the MIT
 */

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Reftagger=t():e.Reftagger=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),l=n(2),c=r(l),f=n(5),d=r(f),p=n(6),h=r(p),m=n(7),v=r(m),g=function(){function e(t){o(this,e),this._initialized=!1,this._tippy=null,this._iterator,this._ctx=t,this._settings={onPageLoad:!0,iframes:!0,exclude:[],theme:"alkotob"}}return a(e,[{key:"init",value:function(){var e=this;if(!this._initialized){var t="undefined"!=typeof window.refTagger?window.refTagger:{};Object.keys(t).forEach(function(n){"undefined"!=typeof e._settings[n]&&(e._settings[n]=t[n])}),window.refTagger=e,e._initDOMDependencies(),e.settings.onPageLoad&&(window.onload=function(){return e.tag()}),e._initialized=!0}}},{key:"tag",value:function(e){var t=this,n=this._getTextNodes();n.forEach(function(e){var n=[];n.push.apply(n,i(c.default.parse(e.textContent))),n.push.apply(n,i(d.default.parse(e.textContent))),n.sort(function(e,t){return t.order-e.order}).forEach(function(n){return t._wrapReference(e,n)})}),this._initTooltips()}},{key:"destroy",value:function(){for(var e=document.querySelectorAll(".alkotob-ayah"),t=0;t<e.length;t++)e[t].outerHTML=e[t].innerHTML}},{key:"_initDOMDependencies",value:function(){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","/dist/reftagger.min.css"),document.getElementsByTagName("head")[0].appendChild(e),document.body.innerHTML+=h.default}},{key:"_getTextNodes",value:function(){var e=this,t=[];return this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(e){t.push(e)},function(t){return e._matchesExclude(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),t}},{key:"_wrapReference",value:function(e,t){var n=e.textContent.indexOf(t.text);if(n!==-1){var r=e.splitText(n),i=document.createElement("a");i.setAttribute("href",t.permalink),i.setAttribute("target","_blank"),i.setAttribute("class","alkotob-ayah"),i.setAttribute("data-text",t.text),i.setAttribute("data-type",t.type),i.setAttribute("data-book",t.book),i.setAttribute("data-chapter",t.chapter),i.setAttribute("data-verses",t.verses),i.setAttribute("data-permalink",t.permalink),i.textContent=t.text,r.textContent=r.textContent.replace(t.text,""),r.parentNode.insertBefore(i,r)}}},{key:"_matchesExclude",value:function(e){return v.default.matches(e,this.settings.exclude.concat(["script","style","title","head","html"]))}},{key:"_initTooltips",value:function(){var e=this,t=(document.getElementById("alkotob-tooltip"),document.getElementById("alkotob-reference"));e._tippy=(0,u.default)(".alkotob-ayah",{position:"auto",arrow:!0,html:"#alkotob-tooltip",interactive:!0,theme:e.settings.theme,flipDuration:0,onShow:function(){if(!e._tippy.loading){e._tippy.loading=!0;var n=e._tippy.getReferenceElement(this),r=n.getAttribute("data-text"),i=(n.getAttribute("data-type"),n.getAttribute("data-book"),n.getAttribute("data-chapter"),n.getAttribute("data-verses"),n.getAttribute("data-permalink")),o=document.getElementById("alkotob-social-fb");o.setAttribute("href","https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(i));var a=document.getElementById("alkotob-social-tw");a.setAttribute("href","https://twitter.com/intent/tweet?url="+encodeURIComponent(i));var s=document.getElementById("alkotob-readmore-link");s.setAttribute("href",i),t.innerHTML=r.trim(),e._tippy.update(this)}},onHide:function(){e._tippy.loading=!1},onHidden:function(){}})}},{key:"settings",get:function(){return this._settings}},{key:"iterator",get:function(){return new v.default(this._ctx||document,this.settings.iframes,this.settings.exclude)}}]),e}(),y=new g;y.init(),t.default=g},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e){Re.forEach(function(t){var n=t.popper,r=t.tippyInstance,i=t.settings,o=i.appendTo,a=i.hideOnClick,s=i.trigger;if(o.contains(n)){var u=a===!0||s.indexOf("focus")!==-1,l=!e||n!==e.popper;u&&l&&r.hide(n)}})}function n(e,t){var n=Element.prototype.closest||function(e){for(var t=this;t;){if(qe.call(t,e))return t;t=t.parentElement}};return n.call(e,t)}function r(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function i(){var t=function(){De.touch=!0,De.iOS()&&document.body.classList.add("tippy-touch"),De.dynamicInputDetection&&document.addEventListener("mousemove",i)},i=function(){var e=void 0;return function(){var t=performance&&performance.now();t&&t-e<10&&(De.touch=!1,document.removeEventListener("mousemove",i),!De.iOS()&&document.body.classList.contains("tippy-touch")&&document.body.classList.remove("tippy-touch")),e=t}}(),o=function(t){if(!(t.target instanceof Element))return e();var i=n(t.target,He.TOOLTIPPED_EL),o=n(t.target,He.POPPER);if(o){var a=r(Re,function(e){return e.popper===o}),s=a.settings.interactive;if(s)return}if(i){var u=r(Re,function(e){return e.el===i}),l=u.settings,c=l.hideOnClick,f=l.multiple,d=l.trigger;if(!f&&De.touch||!f&&d.indexOf("click")!==-1)return e(u);if(c!==!0||d.indexOf("click")!==-1)return}!n(t.target,He.CONTROLLER)&&document.querySelector(He.POPPER)&&e()},a=function(e){var t=document,n=t.activeElement;n&&n.blur&&qe.call(n,He.TOOLTIPPED_EL)&&n.blur()};document.addEventListener("click",o),document.addEventListener("touchstart",t),window.addEventListener("blur",a),!De.SUPPORTS_TOUCH&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&document.addEventListener("pointerdown",t)}function o(){return!o.done&&(o.done=!0,Fe.appendTo=document.body,i(),!0)}function a(e){window.requestAnimationFrame(function(){setTimeout(e,0)})}function s(e){for(var t=[!1,"webkit"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if("undefined"!=typeof window.document.body.style[o])return o}return null}function u(e,t){return Array.prototype.findIndex?e.findIndex(t):e.indexOf(r(e,t))}function l(e){var t=e.getAttribute("title");e.setAttribute("data-original-title",t||"html"),e.removeAttribute("title")}function c(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function f(e,t){t?window.getComputedStyle(t)[s("transform")]:window.getComputedStyle(e).opacity}function d(e,t){e.forEach(function(e){e&&t(e.classList)})}function p(e,t){e.forEach(function(e){if(e){var n=qe.call(e,He.CONTENT),r=n?Math.round(t/1.3):t;e.style[s("transitionDuration")]=r+"ms"}})}function h(e){return"visible"===e.style.visibility}function m(){}function v(e){return e.replace(/-.+/,"")}function g(e){var t=this,n=r(Re,function(e){return e.el===t}),i=n.popper,o=n.settings.offset,a=v(i.getAttribute("x-placement")),u=Math.round(i.offsetWidth/2),l=Math.round(i.offsetHeight/2),c=5,f=document.documentElement.offsetWidth||document.body.offsetWidth,d=e.pageX,p=e.pageY,h=void 0,m=void 0;switch(a){case"top":h=d-u+o,m=p-2.25*l;break;case"left":h=d-2*u-10,m=p-l+o;break;case"right":h=d+l,m=p-l+o;break;case"bottom":h=d-u+o,m=p+l/1.5}var g=d+c+u+o>f,y=d-c-u+o<0;"top"!==a&&"bottom"!==a||(g&&(h=f-c-2*u),y&&(h=c)),i.style[s("transform")]="translate3d("+h+"px, "+m+"px, 0)"}function y(e){return e instanceof Element?[e]:[].slice.call(document.querySelectorAll(e))}function b(e,t,n){if(!t)return n();var r=e.popper.querySelector(He.TOOLTIP),i=!1,o=function e(t){t.target===r&&(i=!0,r.removeEventListener("webkitTransitionEnd",e),r.removeEventListener("transitionend",e),n())};r.addEventListener("webkitTransitionEnd",o),r.addEventListener("transitionend",o),clearTimeout(e._transitionendTimeout),e._transitionendTimeout=setTimeout(function(){!i&&n()},t)}function w(e){var t=!1,n=0,r=document.createElement("span"),i=new MutationObserver(function(){e(),t=!1});return i.observe(r,{attributes:!0}),function(){t||(t=!0,r.setAttribute("x-index",n),n+=1)}}function T(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},Ye))}}function A(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function E(e,t){if(1!==e.nodeType)return[];var n=window.getComputedStyle(e,null);return t?n[t]:n}function k(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function O(e){if(!e||["HTML","BODY","#document"].indexOf(e.nodeName)!==-1)return window.document.body;var t=E(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll)/.test(n+i+r)?e:O(k(e))}function x(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||e.firstElementChild.offsetParent===e)}function L(e){return null!==e.parentNode?L(e.parentNode):e}function C(e){var t=e&&e.offsetParent,n=t&&t.nodeName;return n&&"BODY"!==n&&"HTML"!==n?t:window.document.documentElement}function I(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return window.document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||r.contains(i))return x(a)?a:C(a);var s=L(e);return s.host?I(s.host,t):I(e,L(t).host)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=window.document.documentElement,o=window.document.scrollingElement||i;return o[n]}return e[n]}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=S(t,"top"),i=S(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}function M(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return+e["border"+n+"Width"].split("px")[0]+ +e["border"+r+"Width"].split("px")[0]}function N(e,t,n,r){return Math.max(t["offset"+e],n["client"+e],n["offset"+e],Ve()?n["offset"+e]+r["margin"+("Height"===e?"Top":"Left")]+r["margin"+("Height"===e?"Bottom":"Right")]:0)}function _(){var e=window.document.body,t=window.document.documentElement,n=Ve()&&window.getComputedStyle(t);return{height:N("Height",e,t,n),width:N("Width",e,t,n)}}function D(e){return et({},e,{right:e.left+e.width,bottom:e.top+e.height})}function R(e){var t={};if(Ve())try{t=e.getBoundingClientRect();var n=S(e,"top"),r=S(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}catch(e){}else t=e.getBoundingClientRect();var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?_():{},a=o.width||e.clientWidth||i.right-i.left,s=o.height||e.clientHeight||i.bottom-i.top,u=e.offsetWidth-a,l=e.offsetHeight-s;if(u||l){var c=E(e);u-=M(c,"x"),l-=M(c,"y"),i.width-=u,i.height-=l}return D(i)}function H(e,t){var n=Ve(),r="HTML"===t.nodeName,i=R(e),o=R(t),a=O(e),s=E(t),u=+s.borderTopWidth.split("px")[0],l=+s.borderLeftWidth.split("px")[0],c=D({top:i.top-o.top-u,left:i.left-o.left-l,width:i.width,height:i.height});if(c.marginTop=0,c.marginLeft=0,!n&&r){var f=+s.marginTop.split("px")[0],d=+s.marginLeft.split("px")[0];c.top-=u-f,c.bottom-=u-f,c.left-=l-d,c.right-=l-d,c.marginTop=f,c.marginLeft=d}return(n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(c=P(c,t)),c}function F(e){var t=window.document.documentElement,n=H(e,t),r=Math.max(t.clientWidth,window.innerWidth||0),i=Math.max(t.clientHeight,window.innerHeight||0),o=S(t),a=S(t,"left"),s={top:o-n.top+n.marginTop,left:a-n.left+n.marginLeft,width:r,height:i};return D(s)}function B(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===E(e,"position")||B(k(e)))}function q(e,t,n,r){var i={top:0,left:0},o=I(e,t);if("viewport"===r)i=F(o);else{var a=void 0;"scrollParent"===r?(a=O(k(e)),"BODY"===a.nodeName&&(a=window.document.documentElement)):a="window"===r?window.document.documentElement:r;var s=H(a,o);if("HTML"!==a.nodeName||B(o))i=s;else{var u=_(),l=u.height,c=u.width;i.top+=s.top-s.marginTop,i.bottom=l+s.top,i.left+=s.left-s.marginLeft,i.right=c+s.left}}return i.left+=n,i.top+=n,i.right-=n,i.bottom-=n,i}function j(e){var t=e.width,n=e.height;return t*n}function W(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var a=q(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map(function(e){return et({key:e},s[e],{area:j(s[e])})}).sort(function(e,t){return t.area-e.area}),l=u.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),c=l.length>0?l[0].key:u[0].key,f=e.split("-")[1];return c+(f?"-"+f:"")}function U(e,t,n){var r=I(t,n);return H(n,r)}function z(e){var t=window.getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight),i={width:e.offsetWidth+r,height:e.offsetHeight+n};return i}function Y(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function Q(e,t,n){n=n.split("-")[0];var r=z(e),i={width:r.width,height:r.height},o=["right","left"].indexOf(n)!==-1,a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",l=o?"width":"height";return i[a]=t[a]+t[u]/2-r[u]/2,n===s?i[s]=t[s]-r[l]:i[s]=t[Y(s)],i}function J(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function G(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=J(e,function(e){return e[t]===n});return e.indexOf(r)}function K(e,t,n){var r=void 0===n?e:e.slice(0,G(e,"name",n));return r.forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&A(n)&&(t.offsets.popper=D(t.offsets.popper),t.offsets.reference=D(t.offsets.reference),t=n(t,e))}),t}function V(){if(!this.state.isDestroyed){var e={instance:this,styles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=U(this.state,this.popper,this.reference),e.placement=W(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=Q(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=K(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function X(e,t){return e.some(function(e){var n=e.name,r=e.enabled;return r&&n===t})}function Z(e){for(var t=[!1,"ms","webkit","moz","o"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length-1;r++){var i=t[r],o=i?""+i+n:e;if("undefined"!=typeof window.document.body.style[o])return o}return null}function $(){return this.state.isDestroyed=!0,X(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[Z("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function ee(e,t,n,r){var i="BODY"===e.nodeName,o=i?window:e;o.addEventListener(t,n,{passive:!0}),i||ee(O(o.parentNode),t,n,r),r.push(o)}function te(e,t,n,r){n.updateBound=r,window.addEventListener("resize",n.updateBound,{passive:!0});var i=O(e);return ee(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function ne(){this.state.eventsEnabled||(this.state=te(this.reference,this.options,this.state,this.scheduleUpdate))}function re(e,t){return window.removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function ie(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=re(this.reference,this.state))}function oe(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function ae(e,t){Object.keys(t).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&oe(t[n])&&(r="px"),e.style[n]=t[n]+r})}function se(e,t){Object.keys(t).forEach(function(n){var r=t[n];r!==!1?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function ue(e){return ae(e.instance.popper,e.styles),se(e.instance.popper,e.attributes),e.offsets.arrow&&ae(e.arrowElement,e.offsets.arrow),e}function le(e,t,n,r,i){var o=U(i,t,e),a=W(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),ae(t,{position:"absolute"}),n}function ce(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=J(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=C(e.instance.popper),u=R(s),l={position:i.position},c={left:Math.floor(i.left),top:Math.floor(i.top),bottom:Math.floor(i.bottom),right:Math.floor(i.right)},f="bottom"===n?"top":"bottom",d="right"===r?"left":"right",p=Z("transform"),h=void 0,m=void 0;if(m="bottom"===f?-u.height+c.bottom:c.top,h="right"===d?-u.width+c.right:c.left,a&&p)l[p]="translate3d("+h+"px, "+m+"px, 0)",l[f]=0,l[d]=0,l.willChange="transform";else{var v="bottom"===f?-1:1,g="right"===d?-1:1;l[f]=m*v,l[d]=h*g,l.willChange=f+", "+d}var y={"x-placement":e.placement};return e.attributes=et({},y,e.attributes),e.styles=et({},l,e.styles),e}function fe(e,t,n){var r=J(e,function(e){var n=e.name;return n===t}),i=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function de(e,t){if(!fe(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(n=e.instance.popper.querySelector(n),!n)return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],i=e.offsets,o=i.popper,a=i.reference,s=["left","right"].indexOf(r)!==-1,u=s?"height":"width",l=s?"top":"left",c=s?"left":"top",f=s?"bottom":"right",d=z(n)[u];a[f]-d<o[l]&&(e.offsets.popper[l]-=o[l]-(a[f]-d)),a[l]+d>o[f]&&(e.offsets.popper[l]+=a[l]+d-o[f]);var p=a[l]+a[u]/2-d/2,h=p-D(e.offsets.popper)[l];return h=Math.max(Math.min(o[u]-d,h),0),e.arrowElement=n,e.offsets.arrow={},e.offsets.arrow[l]=Math.round(h),e.offsets.arrow[c]="",e}function pe(e){return"end"===e?"start":"start"===e?"end":e}function he(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=nt.indexOf(e),r=nt.slice(n+1).concat(nt.slice(0,n));return t?r.reverse():r}function me(e,t){if(X(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=q(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),r=e.placement.split("-")[0],i=Y(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case rt.FLIP:a=[r,i];break;case rt.CLOCKWISE:a=he(r);break;case rt.COUNTERCLOCKWISE:a=he(r,!0);break;default:a=t.behavior}return a.forEach(function(s,u){if(r!==s||a.length===u+1)return e;r=e.placement.split("-")[0],i=Y(r);var l=e.offsets.popper,c=e.offsets.reference,f=Math.floor,d="left"===r&&f(l.right)>f(c.left)||"right"===r&&f(l.left)<f(c.right)||"top"===r&&f(l.bottom)>f(c.top)||"bottom"===r&&f(l.top)<f(c.bottom),p=f(l.left)<f(n.left),h=f(l.right)>f(n.right),m=f(l.top)<f(n.top),v=f(l.bottom)>f(n.bottom),g="left"===r&&p||"right"===r&&h||"top"===r&&m||"bottom"===r&&v,y=["top","bottom"].indexOf(r)!==-1,b=!!t.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&h||!y&&"start"===o&&m||!y&&"end"===o&&v);(d||g||b)&&(e.flipped=!0,(d||g)&&(r=a[u+1]),b&&(o=pe(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=et({},e.offsets.popper,Q(e.instance.popper,e.offsets.reference,e.placement)),e=K(e.instance.modifiers,e,"flip"))}),e}function ve(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=["top","bottom"].indexOf(i)!==-1,s=a?"right":"bottom",u=a?"left":"top",l=a?"width":"height";return n[s]<o(r[u])&&(e.offsets.popper[u]=o(r[u])-n[l]),n[u]>o(r[s])&&(e.offsets.popper[u]=o(r[s])),e}function ge(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}var u=D(s);return u[t]/100*o}if("vh"===a||"vw"===a){var l=void 0;return l="vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),l/100*o}return o}function ye(e,t,n,r){var i=[0,0],o=["right","left"].indexOf(r)!==-1,a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(J(a,function(e){return e.search(/,|\s/)!==-1}));a[s]&&a[s].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=s!==-1?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return l=l.map(function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&["+","-"].indexOf(t)!==-1?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return ge(e,i,t,n)})}),l.forEach(function(e,t){e.forEach(function(n,r){oe(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))})}),i}function be(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],u=void 0;return u=oe(+n)?[+n,0]:ye(n,o,a,s),"left"===s?(o.top+=u[0],o.left-=u[1]):"right"===s?(o.top+=u[0],o.left+=u[1]):"top"===s?(o.left+=u[0],o.top-=u[1]):"bottom"===s&&(o.left+=u[0],o.top+=u[1]),e.popper=o,e}function we(e,t){var n=t.boundariesElement||C(e.instance.popper);e.instance.reference===n&&(n=C(n));var r=q(e.instance.popper,e.instance.reference,t.padding,n);t.boundaries=r;var i=t.priority,o=e.offsets.popper,a={primary:function(e){var n=o[e];return o[e]<r[e]&&!t.escapeWithReference&&(n=Math.max(o[e],r[e])),$e({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=o[n];return o[e]>r[e]&&!t.escapeWithReference&&(i=Math.min(o[n],r[e]-("right"===e?o.width:o.height))),$e({},n,i)}};return i.forEach(function(e){var t=["left","top"].indexOf(e)!==-1?"primary":"secondary";o=et({},o,a[t](e))}),e.offsets.popper=o,e}function Te(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=["bottom","top"].indexOf(n)!==-1,u=s?"left":"top",l=s?"width":"height",c={start:$e({},u,o[u]),end:$e({},u,o[u]+o[l]-a[l])};e.offsets.popper=et({},a,c[r])}return e}function Ae(e){if(!fe(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=J(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function Ee(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=["left","right"].indexOf(n)!==-1,s=["top","left"].indexOf(n)===-1;return i[a?"left":"top"]=o[t]-(s?i[a?"width":"height"]:0),e.placement=Y(t),e.offsets.popper=D(i),e}function ke(e){return-(e-Fe.distance)+"px"}function Oe(e){var t=e.el,n=e.popper,r=e.settings,i=r.position,o=r.popperOptions,a=r.offset,s=r.distance,u=(r.flipDuration,n.querySelector(He.TOOLTIP)),l=lt({placement:i},o||{},{modifiers:lt({},o?o.modifiers:{},{flip:lt({padding:s+5},o&&o.modifiers?o.modifiers.flip:{}),offset:lt({offset:a},o&&o.modifiers?o.modifiers.offset:{})}),onUpdate:function(e){u.style.top="",u.style.bottom="",u.style.left="",u.style.right="",u.style[v(n.getAttribute("x-placement"))]=ke(s)}});return new at(t,n,l)}function xe(e){var t=e.el,n=e.popper,r=e.settings,i=r.appendTo,o=r.followCursor,u=r.flipDuration;if(!i.contains(n)){if(i.appendChild(n),e.popperInstance)e.popperInstance.update(),o&&!De.touch||e.popperInstance.enableEventListeners();else if(e.popperInstance=Oe(e),window.MutationObserver){var l=n.style,c=new MutationObserver(function(){l[s("transitionDuration")]="0ms",e.popperInstance.update(),a(function(){l[s("transitionDuration")]=u+"ms"})});c.observe(n,{childList:!0,subtree:!0,characterData:!0}),e._mutationObserver=c}o&&!De.touch&&(t.addEventListener("mousemove",g),e.popperInstance.disableEventListeners())}}function Le(e){var t=e.popper,n=e.popperInstance,r=e.settings.stickyDuration,i=function(){return t.style[s("transitionDuration")]=r+"ms"},o=function(){return t.style[s("transitionDuration")]=""},u=function e(){n&&n.scheduleUpdate(),i(),h(t)?window.requestAnimationFrame(e):o()};a(u)}function Ce(e,t){var n=Be.reduce(function(n,r){var i=e.getAttribute("data-"+r.toLowerCase())||t[r];return"false"===i&&(i=!1),"true"===i&&(i=!0),isFinite(i)&&!isNaN(parseFloat(i))&&(i=parseFloat(i)),"string"==typeof i&&"["===i.trim().charAt(0)&&(i=JSON.parse(i)),n[r]=i,n},{});return lt({},t,n)}function Ie(e,t,n){var r=n.position,i=n.distance,o=n.arrow,a=n.animateFill,s=n.inertia,u=n.animation,l=n.arrowSize,c=n.size,f=n.theme,d=n.html,p=n.zIndex,h=n.interactive,m=document.createElement("div");m.setAttribute("class","tippy-popper"),m.setAttribute("role","tooltip"),m.setAttribute("aria-hidden","true"),m.setAttribute("id","tippy-tooltip-"+e),m.style.zIndex=p;var g=document.createElement("div");if(g.setAttribute("class","tippy-tooltip tippy-tooltip--"+c+" leave"),g.setAttribute("data-animation",u),f.split(" ").forEach(function(e){g.classList.add(e+"-theme")}),o){var y=document.createElement("div");y.setAttribute("class","arrow-"+l),y.setAttribute("x-arrow",""),g.appendChild(y)}if(a){g.setAttribute("data-animatefill","");var b=document.createElement("div");b.setAttribute("class","leave"),b.setAttribute("x-circle",""),g.appendChild(b)}s&&g.setAttribute("data-inertia",""),h&&g.setAttribute("data-interactive","");var w=document.createElement("div");if(w.setAttribute("class","tippy-tooltip-content"),d){var T=void 0;d instanceof Element?(w.appendChild(d),T="#"+d.id||"tippy-html-template"):(w.innerHTML=document.getElementById(d.replace("#","")).innerHTML,T=d),m.classList.add("html-template"),h&&m.setAttribute("tabindex","-1"),g.setAttribute("data-template-id",T)}else w.innerHTML=t;return g.style[v(r)]=ke(i),g.appendChild(w),m.appendChild(g),m}function Se(e,t,n,r){var i=[];return"manual"===e?i:(t.addEventListener(e,n.handleTrigger),i.push({event:e,handler:n.handleTrigger}),"mouseenter"===e&&(De.SUPPORTS_TOUCH&&r&&(t.addEventListener("touchstart",n.handleTrigger),i.push({event:"touchstart",handler:n.handleTrigger}),t.addEventListener("touchend",n.handleMouseleave),i.push({event:"touchend",handler:n.handleMouseleave})),t.addEventListener("mouseleave",n.handleMouseleave),i.push({event:"mouseleave",handler:n.handleMouseleave})),"focus"===e&&(t.addEventListener("blur",n.handleBlur),i.push({event:"blur",handler:n.handleBlur})),i)}function Pe(e,t,n){if(!t.getAttribute("x-placement"))return!0;var r=e.clientX,i=e.clientY,o=n.interactiveBorder,a=n.distance,s=t.getBoundingClientRect(),u=v(t.getAttribute("x-placement")),l=o+a,c={top:s.top-i>o,bottom:i-s.bottom>o,left:s.left-r>o,right:r-s.right>o};switch(u){case"top":c.top=s.top-i>l;break;case"bottom":c.bottom=i-s.bottom>l;break;case"left":c.left=s.left-r>l;break;case"right":c.right=r-s.right>l}return c.top||c.bottom||c.left||c.right}function Me(e,t,r){var i=this,o=(r.position,r.delay),a=(r.duration,r.interactive),s=(r.interactiveBorder,r.distance,r.hideOnClick),u=r.trigger,l=r.touchHold,c=(r.touchWait,void 0),f=void 0,d=function(){clearTimeout(c),clearTimeout(f)},p=function(){if(d(),!h(t)){var e=Array.isArray(o)?o[0]:o;o?c=setTimeout(function(){return i.show(t)},e):i.show(t)}},m=function(e){return i.callbacks.wait?i.callbacks.wait.call(t,p,e):p()},v=function(){d();var e=Array.isArray(o)?o[1]:o;o?f=setTimeout(function(){return i.hide(t)},e):i.hide(t)},g=function(n){var r="mouseenter"===n.type&&De.SUPPORTS_TOUCH&&De.touch;if(!r||!l){var i="click"===n.type,o="persistent"!==s;i&&h(t)&&o?v():m(n),r&&De.iOS()&&e.click&&e.click()}},y=function(i){if(!("mouseleave"===i.type&&De.SUPPORTS_TOUCH&&De.touch&&l)){if(a){var o=function i(o){var a=function(){document.body.removeEventListener("mouseleave",v),document.removeEventListener("mousemove",i),v()},s=n(o.target,He.TOOLTIPPED_EL),l=n(o.target,He.POPPER)===t,c=s===e,f=u.indexOf("click")!==-1,d=s&&s!==e;return d?a():void(l||c||f||Pe(o,t,r)&&a())};return document.body.addEventListener("mouseleave",v),void document.addEventListener("mousemove",o)}v()}},b=function(e){e.relatedTarget&&!De.touch&&(n(e.relatedTarget,He.POPPER)||v())};return{handleTrigger:g,handleMouseleave:y,handleBlur:b}}function Ne(e){var t=this;return e.reduce(function(e,n){var r=t.settings.performance?t.settings:Ce(n,t.settings);r.arrow&&(r.animateFill=!1);var i=r.html,o=r.trigger,a=r.touchHold,s=n.getAttribute("title");if(!s&&!i)return e;var u=ct;n.setAttribute("data-tooltipped",""),n.setAttribute("aria-describedby","tippy-tooltip-"+u),l(n);var c=Ie(u,s,r),f=Me.call(t,n,c,r),d=[];return o.trim().split(" ").forEach(function(e){return d=d.concat(Se(e,n,f,a))}),e.push({id:u,el:n,popper:c,settings:r,listeners:d,tippyInstance:t}),ct++,e},[])}function _e(e,t){return new ft(e,t)}var De={};"undefined"!=typeof window&&(De.SUPPORTED="requestAnimationFrame"in window,De.SUPPORTS_TOUCH="ontouchstart"in window,De.touch=!1,De.dynamicInputDetection=!0,De.iOS=function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)&&!window.MSStream});for(var Re=[],He={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-tooltip-content",CIRCLE:"[x-circle]",ARROW:"[x-arrow]",TOOLTIPPED_EL:"[data-tooltipped]",CONTROLLER:"[data-tippy-controller]"},Fe={html:!1,position:"top",animation:"shift",animateFill:!0,arrow:!1,arrowSize:"regular",delay:0,trigger:"mouseenter focus",duration:350,interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,flipDuration:350,sticky:!1,stickyDuration:200,appendTo:null,zIndex:9999,touchHold:!1,performance:!1,popperOptions:{}},Be=De.SUPPORTED&&Object.keys(Fe),qe=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1},je=["native code","[object MutationObserverConstructor]"],We=function(e){return je.some(function(t){return(e||"").toString().indexOf(t)>-1})},Ue="undefined"!=typeof window,ze=["Edge","Trident","Firefox"],Ye=0,Qe=0;Qe<ze.length;Qe+=1)if(Ue&&navigator.userAgent.indexOf(ze[Qe])>=0){Ye=1;break}var Je=Ue&&We(window.MutationObserver),Ge=Je?w:T,Ke=void 0,Ve=function(){return void 0===Ke&&(Ke=navigator.appVersion.indexOf("MSIE 10")!==-1),Ke},Xe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){
return n&&e(t.prototype,n),r&&e(t,r),t}}(),$e=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],nt=tt.slice(3),rt={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},it={shift:{order:100,enabled:!0,fn:Te},offset:{order:200,enabled:!0,fn:be,offset:0},preventOverflow:{order:300,enabled:!0,fn:we,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:ve},arrow:{order:500,enabled:!0,fn:de,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:me,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:Ee},hide:{order:800,enabled:!0,fn:Ae},computeStyle:{order:850,enabled:!0,fn:ce,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:ue,onLoad:le,gpuAcceleration:void 0}},ot={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:it},at=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Xe(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Ge(this.update.bind(this)),this.options=et({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t.jquery?t[0]:t,this.popper=n.jquery?n[0]:n,this.options.modifiers={},Object.keys(et({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){r.options.modifiers[t]=et({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return et({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&A(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return Ze(e,[{key:"update",value:function(){return V.call(this)}},{key:"destroy",value:function(){return $.call(this)}},{key:"enableEventListeners",value:function(){return ne.call(this)}},{key:"disableEventListeners",value:function(){return ie.call(this)}}]),e}();at.Utils=("undefined"!=typeof window?window:t).PopperUtils,at.placements=tt,at.Defaults=ot;var st=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ut=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct=1,ft=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};st(this,e),De.SUPPORTED&&(o(),this.state={destroyed:!1},this.selector=t,this.settings=lt({},Fe,n),this.callbacks={wait:n.wait,show:n.onShow||n.show||m,shown:n.onShown||n.shown||m,hide:n.onHide||n.hide||m,hidden:n.onHidden||n.hidden||m},this.store=Ne.call(this,y(t)),Re.push.apply(Re,this.store))}return ut(e,[{key:"getPopperElement",value:function(e){try{return r(this.store,function(t){return t.el===e}).popper}catch(e){console.error("[getPopperElement]: Element passed as the argument does not exist in the instance")}}},{key:"getReferenceElement",value:function(e){try{return r(this.store,function(t){return t.popper===e}).el}catch(e){console.error("[getReferenceElement]: Popper passed as the argument does not exist in the instance")}}},{key:"getReferenceData",value:function(e){return r(this.store,function(t){return t.el===e||t.popper===e})}},{key:"show",value:function(e,t){var n=this;if(!this.state.destroyed){this.callbacks.show.call(e);var i=r(this.store,function(t){return t.popper===e}),o=e.querySelector(He.TOOLTIP),s=e.querySelector(He.CIRCLE),u=e.querySelector(He.CONTENT),l=i.el,c=i.settings,m=(c.appendTo,c.sticky),v=c.interactive,g=c.followCursor,y=c.flipDuration,w=c.duration,T=void 0!==t?t:Array.isArray(w)?w[0]:w;p([e,o,s],0),xe(i),e.style.visibility="visible",e.setAttribute("aria-hidden","false"),a(function(){h(e)&&(g&&!De.touch||i.popperInstance.update(),p([o,s],T),g&&!De.touch||p([e],y),s&&(u.style.opacity=1),v&&l.classList.add("active"),m&&Le(i),f(o,s),d([o,s],function(e){e.contains("tippy-notransition")&&e.remove("tippy-notransition"),e.remove("leave"),e.add("enter")}),b(i,T,function(){h(e)&&!i._onShownFired&&(v&&e.focus(),o.classList.add("tippy-notransition"),i._onShownFired=!0,n.callbacks.shown.call(e))}))})}}},{key:"hide",value:function(e,t){var n=this;if(!this.state.destroyed){this.callbacks.hide.call(e);var i=r(this.store,function(t){return t.popper===e}),o=e.querySelector(He.TOOLTIP),a=e.querySelector(He.CIRCLE),s=e.querySelector(He.CONTENT),u=i.el,l=i.settings,f=l.appendTo,m=(l.sticky,l.interactive),v=(l.followCursor,l.html),y=l.trigger,w=l.duration,T=void 0!==t?t:Array.isArray(w)?w[1]:w;i._onShownFired=!1,m&&u.classList.remove("active"),e.style.visibility="hidden",e.setAttribute("aria-hidden","true"),p([o,a,a?s:null],T),a&&(s.style.opacity=0),d([o,a],function(e){e.contains("tippy-tooltip")&&e.remove("tippy-notransition"),e.remove("enter"),e.add("leave")}),v&&y.indexOf("click")!==-1&&c(u)&&u.focus(),b(i,T,function(){!h(e)&&f.contains(e)&&(u.removeEventListener("mousemove",g),i.popperInstance.disableEventListeners(),f.removeChild(e),n.callbacks.hidden.call(e))})}}},{key:"update",value:function(e){if(!this.state.destroyed){var t=r(this.store,function(t){return t.popper===e}),n=e.querySelector(He.CONTENT),i=t.el,o=t.settings.html;if(o instanceof Element)return void console.warn("Aborted: update() should not be used if `html` is a DOM element");n.innerHTML=o?document.getElementById(o.replace("#","")).innerHTML:i.getAttribute("title")||i.getAttribute("data-original-title"),o||l(i)}}},{key:"destroy",value:function(e,t){var n=this;if(!this.state.destroyed){var i=r(this.store,function(t){return t.popper===e}),o=i.el,a=i.popperInstance,s=i.listeners,l=i._mutationObserver;h(e)&&this.hide(e,0),s.forEach(function(e){return o.removeEventListener(e.event,e.handler)}),o.setAttribute("title",o.getAttribute("data-original-title")),o.removeAttribute("data-original-title"),o.removeAttribute("data-tooltipped"),o.removeAttribute("aria-describedby"),a&&a.destroy(),l&&l.disconnect(),Re.splice(u(Re,function(t){return t.popper===e}),1),(void 0===t||t)&&(this.store=Re.filter(function(e){return e.tippyInstance===n}))}}},{key:"destroyAll",value:function(){var e=this;if(!this.state.destroyed){var t=this.store.length;this.store.forEach(function(n,r){var i=n.popper;e.destroy(i,r===t-1)}),this.store=null,this.state.destroyed=!0}}}]),e}();return _e.Browser=De,_e.Defaults=Fe,_e.disableDynamicInputDetection=function(){return De.dynamicInputDetection=!1},_e.enableDynamicInputDetection=function(){return De.dynamicInputDetection=!0},_e})}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=parseInt(e);if(!isNaN(t))return t;var n=-1;return c.forEach(function(t,r){t.indexOf(e.toLowerCase().trim())!==-1&&(n=r+1)}),n.toString()}function o(e){var t=[],n=void 0,r=void 0,o=void 0;for(n="\n    (?:q|quran|koran|qur\\'an)\n      \\s*\n      ([\\d]{1,3})\n      (?::\\s*\n        ([\\d\\s\\-,]+)\n      )?\n    ",r=new RegExp(n.replace(/[\n\s]+/g,""),"gi");o=r.exec(e);){var a=new l.default;a.order=o.index,a.text=o[0],a.type="quran",a.chapter=i(o[1]),a.verses=o[2],t.push(a)}var u=c.map(function(e){return e.map(function(e){return(0,s.default)(e)}).join("|")}).join("|");for(n="\n    (?:surat|سورة)?\n    \\s*\n    ("+u+"):?\n    \\s*\n      (?:([\\d]{1,3})\\s*:)?\n      \\s+\n      ([\\d\\s\\-,]+)\n    ",r=new RegExp(n.replace(/[\n\s]+/g,""),"gi");o=r.exec(e);){var f=new l.default;f.order=o.index,f.text=o[0],f.type="quran",f.chapter=i(o[2]||o[1]),f.verses=o[3],t.push(f)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.getChapter=void 0;var a=n(3),s=r(a),u=n(4),l=r(u),c=[["Al-Fatihah","The Opener","الفاتحة"],["Al-Baqarah","The Cow","البقرة"],["Ali 'Imran","Family of Imran","آل عمران"],["An-Nisa","The Women","النساء"],["Al-Ma'idah","The Table Spread","المائدة"],["Al-An'am","The Cattle","الأنعام"],["Al-A'raf","The Heights","الأعراف"],["Al-Anfal","The Spoils of War","الأنفال"],["At-Tawbah","The Repentance","التوبة"],["Yunus","Jonah","يونس"],["Hud","Hud","هود"],["Yusuf","Joseph","يوسف"],["Ar-Ra'd","The Thunder","الرّعد"],["Ibrahim","Abrahim","إبراهيم"],["Al-Hijr","The Rocky Tract","الحجر"],["An-Nahl","The Bee","النحل"],["Al-Isra","The Night Journey","الإسراء"],["Al-Kahf","The Cave","الكهف"],["Maryam","Mary","مريم"],["Taha","Ta-Ha","طه"],["Al-Anbya","The Prophets","الأنبياء"],["Al-Haj","The Pilgrimage","الحج"],["Al-Mu'minun","The Believers","المؤمنون"],["An-Nur","The Light","النّور"],["Al-Furqan","The Criterian","الفرقان"],["Ash-Shu'ara","The Poets","الشعراء"],["An-Naml","The Ant","النمل"],["Al-Qasas","The Stories","القصص"],["Al-'Ankabut","The Spider","العنكبوت"],["Ar-Rum","The Romans","الروم"],["Luqman","Luqman","لقمان"],["As-Sajdah","The Prostration","السجدة"],["Al-Ahzab","The Combined Forces","الأحزاب"],["Saba","Sheba","سبإ"],["Fatir","Originator","فاطر"],["Ya-Sin","Ya Sin","يس"],["As-Saffat","Those who set the Ranks","الصّافّات"],["Sad",'The Letter "Saad"',"ص"],["Az-Zumar","The Troops","الزمر"],["Ghafir","The Forgiver","غافر"],["Fussilat","Explained in Detail","فصّلت"],["Ash-Shuraa","The Consultation","الشورى"],["Az-Zukhruf","The Ornaments of Gold","الزخرف"],["Ad-Dukhan","The Smoke","الدخان"],["Al-Jathiyah","The Crouching","الجاثية"],["Al-Ahqaf","The Wind-Curved Sandhills","الأحقاف"],["Muhammad","Muhammad","محمّـد"],["Al-Fath","The Victory","الفتح"],["Al-Hujurat","The Rooms","الحُـجُـرات"],["Qaf",'The Letter "Qaf"',"ق"],["Adh-Dhariyat","The Winnowing Winds","الذاريات"],["At-Tur","The Mount","الـطور"],["An-Najm","The Star","الـنحـم"],["Al-Qamar","The Moon","الـقمـر"],["Ar-Rahman","The Beneficent","الـرحـمـن"],["Al-Waqi'ah","The Inevitable","الواقيـة"],["Al-Hadid","The Iron","الحـديد"],["Al-Mujadila","The Pleading Woman","الـمجادلـة"],["Al-Hashr","The Exile","الـحـشـر"],["Al-Mumtahanah","She that is to be examined","الـمـمـتـحنة"],["As-Saf","The Ranks","الـصّـف"],["Al-Jumu'ah","The Congregation, Friday","الـجـمـعـة"],["Al-Munafiqun","The Hypocrites","الـمنافقون"],["At-Taghabun","The Mutual Disillusion","الـتغابن"],["At-Talaq","The Divorce","الـطلاق"],["At-Tahrim","The Prohibtiion","الـتحريم"],["Al-Mulk","The Sovereignty","الـملك"],["Al-Qalam","The Pen","الـقـلـم"],["Al-Haqqah","The Reality","الـحاقّـة"],["Al-Ma'arij","The Ascending Stairways","الـمعارج"],["Nuh","Noah","نوح"],["Al-Jinn","The Jinn","الجن"],["Al-Muzzammil","The Enshrouded One","الـمـزّمّـل"],["Al-Muddaththir","The Cloaked One","الـمّـدّثّـر"],["Al-Qiyamah","The Resurrection","الـقـيامـة"],["Al-Insan","The Man","الإنسان"],["Al-Mursalat","The Emissaries","الـمرسلات"],["An-Naba","The Tidings","الـنبإ"],["An-Nazi'at","Those who drag forth","الـنازعات"],["'Abasa","He Frowned","عبس"],["At-Takwir","The Overthrowing","التكوير"],["Al-Infitar","The Cleaving","الانفطار"],["Al-Mutaffifin","The Defrauding","المطـفـفين"],["Al-Inshiqaq","The Sundering","الانشقاق"],["Al-Buruj","The Mansions of the Stars","البروج"],["At-Tariq","The Nightcommer","الـطارق"],["Al-A'la","The Most High","الأعـلى"],["Al-Ghashiyah","The Overwhelming","الغاشـيـة"],["Al-Fajr","The Dawn","الفجر"],["Al-Balad","The City","الـبلد"],["Ash-Shams","The Sun","الـشـمـس"],["Al-Layl","The Night","اللـيـل"],["Ad-Duhaa","The Morning Hours","الضـحى"],["Ash-Sharh","The Relief","الـشرح"],["At-Tin","The Fig","الـتين"],["Al-'Alaq","The Clot","الـعلق"],["Al-Qadr","The Power","الـقدر"],["Al-Bayyinah","The Clear Proof","الـبينة"],["Az-Zalzalah","The Earthquake","الـزلزلة"],["Al-'Adiyat","The Courser","الـعاديات"],["Al-Qari'ah","The Calamity","الـقارعـة"],["At-Takathur","The Rivalry in world increase","الـتكاثر"],["Al-'Asr","The Declining Day","الـعصر"],["Al-Humazah","The Traducer","الـهمزة"],["Al-Fil","The Elephant","الـفيل"],["Quraysh","Quraysh","قريش"],["Al-Ma'un","The Small Kindesses","المـاعون"],["Al-Kawthar","The Abundance","الـكوثر"],["Al-Kafirun","The Disbelievers","الـكافرون"],["An-Nasr","The Divine Support","الـنصر"],["Al-Masad","The Palm Fiber","الـمسد"],["Al-Ikhlas","The Sincerity","الإخلاص"],["Al-Falaq","The Daybreak","الـفلق"],["An-Nas","The Mankind","الـناس"]];c=c.map(function(e){return e.map(function(e){return e.toLowerCase().trim()})}),t.default={parse:o,getChapter:i},t.getChapter=i,t.parse=o},function(e,t){"use strict";var n=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(n,"\\$&")}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e),this.order=0,this._opts={text:null,type:null,book:null,chapter:null,verses:null}}return r(e,[{key:"text",set:function(e){this._opts.text=e.trim()},get:function(){return this._opts.text}},{key:"type",set:function(e){if(["quran","bible"].indexOf(e)===-1)throw"You must specify a proper book type";this._opts.type=e},get:function(){return this._opts.type}},{key:"chapter",set:function(e){this._opts.chapter=e.toString().trim()},get:function(){return this._opts.chapter}},{key:"book",set:function(e){this._opts.book=e.trim()},get:function(){return this._opts.book}},{key:"verses",set:function(e){"undefined"!=typeof e&&(this._opts.verses=e.toString().replace(/\s/g,""))},get:function(){return this._opts.verses}},{key:"options",get:function(){return this._opts}},{key:"permalink",get:function(){var e=void 0;return e="quran"===this._opts.type?"https://alkotob.org/quran/"+this.chapter+"/"+this.verses:"https://alkotob.org/bible/"+this.book+"/"+this.chapter+"/"+this.verses}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){if(e=e.toLowerCase(),"undefined"!=typeof c[e])return e;var t=!0,n=!1,r=void 0;try{for(var i,o=Object.keys(c)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(c[a].indexOf(e)!==-1)return a}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return!1}function a(e){var t=[],n=void 0,r=void 0,a=void 0,s=[];for(Object.keys(c).forEach(function(e){var t;return(t=s).push.apply(t,i(c[e]))}),s=s.join("|"),n="\n    ("+s+")\n    \\s*\n      ([\\d]{1,3})\\s*:?\n      \\s*\n      ([\\d\\s\\-,]+)?\n    ",r=new RegExp(n.replace(/[\n\s]+/g,""),"gi");a=r.exec(e);){var u=new l.default;u.order=a.index,u.text=a[0],u.type="bible",u.book=o(a[1]),u.chapter=a[2],u.verses=a[3],t.push(u)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.getBook=void 0;var s=n(3),u=(r(s),n(4)),l=r(u),c={psa:["Ps","Psalms","Psalm"]};Object.keys(c).forEach(function(e){c[e]=c[e].map(function(e){return e.toLowerCase()})}),t.default={parse:a,getBook:o},t.getBook=o,t.parse=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n='\n  <div id="alkotob-tooltip" style="display: none;">\n    <div id="alkotob-share">\n      <a id="alkotob-social-fb" href="#" target="_blank" class="social facebook" title="Facebook"><svg viewBox="0 0 512 512"><path d="M211.9 197.4h-36.7v59.9h36.7V433.1h70.5V256.5h49.2l5.2-59.1h-54.4c0 0 0-22.1 0-33.7 0-13.9 2.8-19.5 16.3-19.5 10.9 0 38.2 0 38.2 0V82.9c0 0-40.2 0-48.8 0 -52.5 0-76.1 23.1-76.1 67.3C211.9 188.8 211.9 197.4 211.9 197.4z"/></svg><!--[if lt IE 9]><em>Facebook</em><![endif]--></a>\n      <a id="alkotob-social-tw" href="#" target="_blank" class="social twitter" title="Twitter"><svg viewBox="0 0 512 512"><path d="M419.6 168.6c-11.7 5.2-24.2 8.7-37.4 10.2 13.4-8.1 23.8-20.8 28.6-36 -12.6 7.5-26.5 12.9-41.3 15.8 -11.9-12.6-28.8-20.6-47.5-20.6 -42 0-72.9 39.2-63.4 79.9 -54.1-2.7-102.1-28.6-134.2-68 -17 29.2-8.8 67.5 20.1 86.9 -10.7-0.3-20.7-3.3-29.5-8.1 -0.7 30.2 20.9 58.4 52.2 64.6 -9.2 2.5-19.2 3.1-29.4 1.1 8.3 25.9 32.3 44.7 60.8 45.2 -27.4 21.4-61.8 31-96.4 27 28.8 18.5 63 29.2 99.8 29.2 120.8 0 189.1-102.1 185-193.6C399.9 193.1 410.9 181.7 419.6 168.6z"/></svg><!--[if lt IE 9]><em>Twitter</em><![endif]--></a>\n    </div>\n    <div id="alkotob-reference"></div>\n    <div class="bismillah">﷽</div>\n    <div id="alkotob-verse-text">\n      فقوله - تعالى -: ﴿ اللَّهُ لَا إِلَهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ ﴾، إخبار بأنه المنفرِد بالإلهية لجميع الخلائق، فلا معبود بحقٍّ إلاَّ هو - سبحانه - وهو المستَحق للعِبادة، وبهذه الكلمة أرْسَل الله الرُّسل، وأنزَل\n    </div>\n    <div id="alkotob-copyright">\n      <a target="_blank" href="https://alkotob.org/?utm_source=reftagger">alkotob.org</a>\n    </div>\n    <div id="alkotob-readmore">\n      <a id="alkotob-readmore-link" target="_blank" href="https://alkotob.org/?utm_source=reftagger">&laquo; اقرأ أكثر</a>\n    </div>\n  </div>\n';t.default=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;n(this,e),this.ctx=t,this.iframes=r,this.exclude=i,this.iframesTimeout=o}return r(e,[{key:"getContexts",value:function(){var e=void 0,t=[];return e="undefined"!=typeof this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[],e.forEach(function(e){var n=t.filter(function(t){return t.contains(e)}).length>0;t.indexOf(e)!==-1||n||t.push(e)}),t}},{key:"getIframeContents",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=void 0;try{var i=e.contentWindow;if(r=i.document,!i||!r)throw new Error("iframe inaccessible")}catch(e){n()}r&&t(r)}},{key:"isIframeBlank",value:function(e){var t="about:blank",n=e.getAttribute("src").trim(),r=e.contentWindow.location.href;return r===t&&n!==t&&n}},{key:"observeIframeLoad",value:function(e,t,n){var r=this,i=!1,o=null,a=function a(){if(!i){i=!0,clearTimeout(o);try{r.isIframeBlank(e)||(e.removeEventListener("load",a),r.getIframeContents(e,t,n))}catch(e){n()}}};e.addEventListener("load",a),o=setTimeout(a,this.iframesTimeout)}},{key:"onIframeReady",value:function(e,t,n){try{"complete"===e.contentWindow.document.readyState?this.isIframeBlank(e)?this.observeIframeLoad(e,t,n):this.getIframeContents(e,t,n):this.observeIframeLoad(e,t,n)}catch(e){n()}}},{key:"waitForIframes",value:function(e,t){var n=this,r=0;this.forEachIframe(e,function(){return!0},function(e){r++,n.waitForIframes(e.querySelector("html"),function(){--r||t()})},function(e){e||t()})}},{key:"forEachIframe",value:function(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=t.querySelectorAll("iframe"),s=a.length,u=0;a=Array.prototype.slice.call(a);var l=function(){--s<=0&&o(u)};s||l(),a.forEach(function(t){e.matches(t,i.exclude)?l():i.onIframeReady(t,function(e){n(t)&&(u++,r(e)),l()},l)})}},{key:"createIterator",value:function(e,t,n){return document.createNodeIterator(e,t,n,!1)}},{key:"createInstanceOnIframe",value:function(t){return new e(t.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(e,t,n){var r=e.compareDocumentPosition(n),i=Node.DOCUMENT_POSITION_PRECEDING;if(r&i){if(null===t)return!0;var o=t.compareDocumentPosition(n),a=Node.DOCUMENT_POSITION_FOLLOWING;if(o&a)return!0}return!1}},{key:"getIteratorNode",value:function(e){var t=e.previousNode(),n=void 0;return n=null===t?e.nextNode():e.nextNode()&&e.nextNode(),{prevNode:t,node:n}}},{key:"checkIframeFilter",value:function(e,t,n,r){var i=!1,o=!1;return r.forEach(function(e,t){e.val===n&&(i=t,o=e.handled)}),this.compareNodeIframe(e,t,n)?(i!==!1||o?i===!1||o||(r[i].handled=!0):r.push({val:n,handled:!0}),!0):(i===!1&&r.push({val:n,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(e,t,n,r){var i=this;e.forEach(function(e){e.handled||i.getIframeContents(e.val,function(e){i.createInstanceOnIframe(e).forEachNode(t,n,r)})})}},{key:"iterateThroughNodes",value:function(e,t,n,r,i){for(var o=this,a=this.createIterator(t,e,r),s=[],u=[],l=void 0,c=void 0,f=function(){var e=o.getIteratorNode(a);return c=e.prevNode,l=e.node};f();)this.iframes&&this.forEachIframe(t,function(e){return o.checkIframeFilter(l,c,e,s)},function(t){o.createInstanceOnIframe(t).forEachNode(e,function(e){return u.push(e)},r)}),u.push(l);u.forEach(function(e){n(e)}),this.iframes&&this.handleOpenIframes(s,e,n,r),i()}},{key:"forEachNode",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=this.getContexts(),a=o.length;a||i(),o.forEach(function(o){var s=function(){r.iterateThroughNodes(e,o,t,n,function(){--a<=0&&i()})};r.iframes?r.waitForIframes(o,s):s()})}}],[{key:"matches",value:function(e,t){var n="string"==typeof t?[t]:t,r=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;if(r){var i=!1;return n.every(function(t){return!r.call(e,t)||(i=!0,!1)}),i}return!1}}]),e}();t.default=i}])});
//# sourceMappingURL=reftagger.min.js.map
